/* ===== SCENE ===== */
.scene {
  position: relative;
  width: 100%;
  height: 300px;
  overflow: hidden;
  background: linear-gradient(#87ceeb, #e0f6ff);
}

/* ===== RAILS ===== */
.rails {
  position: absolute;
  bottom: 40px;
  width: 200%;
  height: 40px;
  background:
    repeating-linear-gradient(
      to right,
      #555 0 6px,
      #222 6px 18px
    );
  animation: railsMove 0.5s linear infinite;
}

@keyframes railsMove {
  from { transform: translateX(0); }
  to { transform: translateX(-36px); }
}

/* ===== TRAIN ===== */
.train {
  position: absolute;
  bottom: 60px;
  left: 20%;
  width: 240px;
  height: 150px;
  animation: trainBounce 0.6s ease-in-out infinite;
  z-index: 2;
}

@keyframes trainBounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(2px); }
}

/* ===== HEADLIGHT ===== */
.headlight {
  position: absolute;
  bottom: 102px;
  left: calc(20% + 215px);
  width: 14px;
  height: 14px;
  background: #fff6a0;
  border-radius: 50%;
  z-index: 3;
  box-shadow:
    0 0 10px #fff6a0,
    0 0 25px rgba(255, 246, 160, 0.9);
  animation: headlightPulse 1.4s ease-in-out infinite;
}

@keyframes headlightPulse {
  0%, 100% { opacity: 0.8; }
  50% { opacity: 1; }
}

/* ===== NIGHT MODE ===== */
@media (prefers-color-scheme: dark) {
  .scene {
    background: linear-gradient(#0b132b, #1c2541);
  }

  .rails {
    background:
      repeating-linear-gradient(
        to right,
        #777 0 6px,
        #333 6px 18px
      );
  }

  .headlight {
    box-shadow:
      0 0 18px #fff6a0,
      0 0 45px rgba(255, 246, 160, 1);
  }
}
.train::after {
  content: "";
  position: absolute;
  top: -10px;
  left: 30px;
  width: 10px;
  height: 10px;
  background: rgba(200,200,200,0.7);
  border-radius: 50%;
  animation: smoke 2s infinite;
}

@keyframes smoke {
  0% {
    transform: translate(0,0) scale(0.6);
    opacity: 0.7;
  }
  100% {
    transform: translate(-20px,-30px) scale(1.5);
    opacity: 0;
  }
}
